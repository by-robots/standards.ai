description = "Review code against the rules defined in GEMINI.md. Usage: /review or /review <path>"

prompt = """
Review code against the rules defined in GEMINI.md.

1. Read `GEMINI.md` to identify all rules and conventions that apply to this project.
2. Identify the files to review:
   - If a path was provided (`{{args}}`), read the files at that path.
   - If no path was provided, run `git diff --name-only --cached` and review the staged files.
3. For each applicable rule in `GEMINI.md`, check whether the code follows it.
4. Report findings grouped by `GEMINI.md` section (e.g. Security, Coding Conventions).
5. For each finding, state the file and the offending code, and quote the rule being violated.
6. Omit sections where no violations were found.
7. Do not suggest improvements beyond what the rules require.
8. End with a one-line summary: number of violations found and how many files were reviewed.
"""
